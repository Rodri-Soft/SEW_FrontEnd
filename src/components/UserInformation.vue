<template>
  <MDBRow class="m-0 mb-2 ">
    <MDBCard shadow="0">
      <img src="@/assets/profile-background.png" alt="Imagen de fondo de perfil" 
        class="card-img text-center m-0 p-0" id="profile-background"/>
      <MDBCardBody class="text-center">
        <div class="img-fluid outer-circle shadow-6 text-center">
          <img src="https://mdbootstrap.com/img/Photos/Avatars/img (21).jpg" 
            class="img-fluid rounded-circle"
            alt="Townhouses and Skyscrapers" 
            id="profile-image" />          
        </div>
        <h2 class="text-center form-title" 
          v-if="user.employee">
          {{ user.employee.fullName }}
          <a class="m-1 form-options-text btn btn-link btn-floating" href="#!" role="button">
            <MDBIcon icon="pencil-alt" size="lg" />
          </a>  
        </h2>
        <h2 class="text-center form-title" 
          v-else>
          {{ user.recruiter.fullName }}
          <a class="m-1 form-options-text btn btn-link btn-floating" href="#!" role="button">
            <MDBIcon icon="pencil-alt" size="lg" />
          </a>
        </h2>
        <a class="m-1" @click="modalUserInformation = true" href="#" role="button">
          Informaci칩n de contacto
        </a>  
        <MDBCardText class="text-muted form-options-text" 
          v-if="user.role == 'Employee'">
          Trabajador
        </MDBCardText>

        <MDBCardText class="mb-2 text-muted form-options-text" 
          v-else>
          Reclutador
        </MDBCardText>

        <MDBRow class="m-0 d-flext justify-content-center" 
          v-if="user.recruiter" >
          <MDBBadge class="text-wrap py-2 form-options-text logIn-form-button rounded-7" 
            style="width: 7rem;">
            Seguidores            
            {{ user.recruiter.followers.length }}
          </MDBBadge>
        </MDBRow>
      </MDBCardBody>
    </MDBCard>
  </MDBRow>

  <MDBModal id="modal-user-information" tabindex="-1" v-model="modalUserInformation" centered>
    <MDBModalBody>
      <a href="#" class="text-reset">
        <MDBIcon icon="close" size="lg" class="d-flex justify-content-end"
          @click="modalUserInformation = false" />
      </a>

      <MDBModalTitle class="text-center form-title">
        Informaci칩n de contacto
      </MDBModalTitle>

      <MDBRow>
        <MDBRow class="my-4 mx-2">
          <MDBCol col="1">
            <MDBIcon icon="envelope" size="lg" class="mr-2" />
          </MDBCol>
          <MDBCol col="11">
            <h6 class="fw-normal">Enviar email</h6>
            <a href="mailto:" target="_blank">
              {{ user.email }}
            </a>
          </MDBCol>
        </MDBRow>
        <MDBRow class="mb-4 mx-2">
          <MDBCol col="1">
            <i class="fab fa-whatsapp fa-lg mr-2"></i>
          </MDBCol>
          <MDBCol col="11" 
            v-if="user.employee">
            <h6 class="fw-normal">Enviar Whatsapp</h6>
            <a href="https://wa.me/2281272755" target="_blank">
              {{ user.employee.phone }}
            </a>
          </MDBCol>
          <MDBCol col="11" 
            v-else>
            <h6 class="fw-normal">Enviar Whatsapp</h6>
            <a href="https://wa.me/2281272755" target="_blank">
              {{ user.recruiter.phone }}
            </a>
          </MDBCol>
        </MDBRow>
        <MDBRow class="mb-4 mx-2">
          <MDBCol col="1">
            <MDBIcon icon="map" size="lg" class="ml-2" />
          </MDBCol>
          <MDBCol col="11">
            <h6 class="fw-normal">Ubicaci칩n</h6>
            <p>
              <!-- Fidencio Oca침a #64 
              Francisco Ferrer Guardia
              97000 Xalapa -->
            </p>
          </MDBCol>
        </MDBRow>
      </MDBRow>      
    </MDBModalBody>
  </MDBModal>
</template>

<style scoped src="@/wwwroot/css/logIn.css"></style>
<style scoped src="@/wwwroot/css/user-information.css"></style>
<script src="@/wwwroot/js/user-information.js"></script>